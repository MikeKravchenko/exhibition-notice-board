(this.webpackJsonpjob_posts=this.webpackJsonpjob_posts||[]).push([[0],{71:function(e,t,n){e.exports=n(82)},76:function(e,t,n){},77:function(e,t,n){},82:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(10),o=n.n(c),i=(n(76),n(77),n(36)),l=n(13),u=n(37),s=n(136),m=n(135),p=n(147),d=n(145),b=n(143),f=n(141),g=n(142),j=n(58),E=n(25),v=n.n(E),h=n(47),O=function(){var e=Object(h.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/jobs/");case 2:if(!(t=e.sent).ok){e.next=7;break}return e.next=6,t.json();case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),y=function(){var e=Object(h.a)(v.a.mark((function e(t){var n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/jobs/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 2:if(!(n=e.sent).ok){e.next=9;break}return e.next=6,n.json();case 6:return e.abrupt("return",e.sent);case 9:return e.abrupt("return",null);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),C=function(){var e=Object(h.a)(v.a.mark((function e(t,n){var a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/jobs/".concat(t,"/"),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});case 2:if(!(a=e.sent).ok){e.next=9;break}return e.next=6,a.json();case 6:return e.abrupt("return",e.sent);case 9:return e.abrupt("return",null);case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),x=n(137),S=n(138),w=n(140),k=n(139),W=n(149),F=n(144),A=n(148),N=n(134),J=n(131),B=n(132),P=n(130),T=function(e){var t=e.id,n=e.open,c=e.onClose,o=e.onSubmit,i=Object(a.useState)(""),u=Object(l.a)(i,2),s=u[0],p=u[1],d=Object(a.useState)(""),b=Object(l.a)(d,2),f=b[0],g=b[1],j=Object(a.useState)(""),E=Object(l.a)(j,2),v=E[0],h=E[1],O=Object(a.useState)(""),y=Object(l.a)(O,2),C=y[0],x=y[1];return r.a.createElement("div",null,r.a.createElement(A.a,{open:n,onClose:c,"aria-labelledby":"form-dialog-title"},r.a.createElement(P.a,{id:"form-dialog-title"},"Apply to a job"),r.a.createElement(J.a,null,r.a.createElement(B.a,null,"Add details about yourself"),r.a.createElement(F.a,{autoFocus:!0,margin:"dense",id:"email",label:"Email Address",type:"email",fullWidth:!0,value:s,onChange:function(e){return p(e.target.value)}}),r.a.createElement(F.a,{autoFocus:!0,margin:"dense",id:"name",label:"Name",type:"text",fullWidth:!0,value:v,onChange:function(e){return h(e.target.value)}}),r.a.createElement(F.a,{autoFocus:!0,margin:"dense",id:"location",label:"Location",type:"text",fullWidth:!0,value:f,onChange:function(e){return g(e.target.value)}}),r.a.createElement(F.a,{autoFocus:!0,multiline:!0,rows:4,margin:"dense",id:"cv",label:"CV",type:"text",fullWidth:!0,value:C,onChange:function(e){return x(e.target.value)}})),r.a.createElement(N.a,null,r.a.createElement(m.a,{onClick:c,color:"primary"},"Cancel"),r.a.createElement(m.a,{onClick:function(){o(t,[s,f,C,v].join(" ")),c()},color:"primary"},"Submit"))))},D=Object(s.a)((function(e){return{root:{maxWidth:345,minWidth:345,margin:"10px 10px 10px 10px"},chip:{margin:e.spacing(.5)}}})),I=function(e){var t=e.id,n=e.contact,c=e.applicants,o=e.title,i=e.description,u=e.categories,s=e.handleApplySubmit,p=D(),d=Object(a.useState)(!1),b=Object(l.a)(d,2),f=b[0],g=b[1];return r.a.createElement(x.a,{className:p.root},r.a.createElement(S.a,null,r.a.createElement(k.a,null,r.a.createElement(j.a,{gutterBottom:!0,variant:"h5",component:"h2"},o),r.a.createElement(j.a,{variant:"body2",color:"textSecondary",component:"p"},i),r.a.createElement(j.a,{variant:"body2",color:"textSecondary",component:"p"},"Contact: ",n),r.a.createElement(j.a,{variant:"body2",color:"textSecondary",component:"p"},"Already applied: ",c&&c.map((function(e){return r.a.createElement("p",null,e)}))))),r.a.createElement(w.a,null,r.a.createElement(m.a,{style:{flex:1},variant:"outlined",color:"primary",onClick:function(){return g(!0)}},"Apply")),u.map((function(e){return r.a.createElement(W.a,{className:p.chip,label:e})})),r.a.createElement(T,{id:t,open:f,onClose:function(){return g(!1)},onSubmit:s}))},G=n(150),H=Object(s.a)((function(e){return{root:{width:"300px"}}})),_=["web","js","python","c#","other"],L=function(e){var t=e.open,n=e.onClose,c=e.onSubmit,o=H(),i=Object(a.useState)(""),u=Object(l.a)(i,2),s=u[0],p=u[1],d=Object(a.useState)(""),b=Object(l.a)(d,2),f=b[0],g=b[1],j=Object(a.useState)(""),E=Object(l.a)(j,2),v=E[0],h=E[1],O=Object(a.useState)([]),y=Object(l.a)(O,2),C=y[0],x=y[1];return r.a.createElement("div",null,r.a.createElement(A.a,{open:t,onClose:n,"aria-labelledby":"form-dialog-title"},r.a.createElement(P.a,{id:"form-dialog-title"},"Add a new job"),r.a.createElement(J.a,null,r.a.createElement(F.a,{classes:{root:o.root},select:!0,name:"categories",id:"categories",variant:"outlined",label:"Categories",SelectProps:{multiple:!0,value:C,onChange:function(e){return x(e.target.value)}}},_.map((function(e){return r.a.createElement(G.a,{value:e},e)}))),r.a.createElement(F.a,{autoFocus:!0,margin:"dense",id:"title",label:"Title",type:"text",fullWidth:!0,value:s,onChange:function(e){return p(e.target.value)}}),r.a.createElement(F.a,{autoFocus:!0,multiline:!0,rows:4,margin:"dense",id:"description",label:"Description",type:"text",fullWidth:!0,value:v,onChange:function(e){return h(e.target.value)}}),r.a.createElement(F.a,{autoFocus:!0,margin:"dense",id:"contact",label:"Contact email",type:"email",fullWidth:!0,value:f,onChange:function(e){return g(e.target.value)}})),r.a.createElement(N.a,null,r.a.createElement(m.a,{onClick:n,color:"primary"},"Cancel"),r.a.createElement(m.a,{onClick:function(){c(f,s,v,C),n()},color:"primary"},"Submit"))))},M=Object(s.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:2}}}));function R(e){return r.a.createElement(d.a,Object.assign({elevation:6,variant:"filled"},e))}var U=function(){var e=M(),t=Object(a.useState)(!1),n=Object(l.a)(t,2),c=n[0],o=n[1],s=Object(a.useState)([]),d=Object(l.a)(s,2),E=d[0],v=d[1],h=Object(a.useState)(!1),x=Object(l.a)(h,2),S=x[0],w=x[1],k=Object(a.useState)(""),W=Object(l.a)(k,2),F=W[0],A=W[1],N=Object(a.useState)(!1),J=Object(l.a)(N,2),B=J[0],P=J[1];Object(a.useEffect)((function(){O().then((function(e){v(e.map((function(e){return function(e){return Object(u.a)(Object(u.a)({},e),{},{categories:e.categories.split(":::"),applicants:e.applicants.split(":::")})}(e)})))}))}),[]);var T=function(e,t,n,a){y({title:t,description:n,categories:a.join(":::"),contact:e}).then((function(r){if(r){var c={id:r.id,contact:e,title:t,description:n,categories:a,applicants:[]};v([].concat(Object(i.a)(E),[c])),A("Congrats, you've created a new job post")}else P(!0)}))},D=function(e,t){var n=E.findIndex((function(t){return t.id===e})),a=E[n],r=[].concat(Object(i.a)(a.applicants),[t]),c={title:a.title,description:a.description,categories:a.categories.join(":::"),contact:a.contact,applicants:r.join(":::")};C(a.id,c).then((function(e){e?(v([].concat(Object(i.a)(E.slice(0,n)),[Object(u.a)(Object(u.a)({},a),{},{applicants:r})],Object(i.a)(E.slice(n+1)))),A("Congrats, you've applied succesfully"),w(!0)):P(!0)}))},G=function(){return r.a.createElement(a.Fragment,null,r.a.createElement(L,{open:c,onClose:function(){return o(!1)},onSubmit:T}))},H=function(){return r.a.createElement(a.Fragment,null,r.a.createElement(p.a,{open:S,autoHideDuration:6e3,onClose:function(){return w(!1)}},r.a.createElement(R,{onClose:function(){return w(!1)},severity:"success"},F)),r.a.createElement(p.a,{open:B,autoHideDuration:6e3,onClose:function(){return P(!1)}},r.a.createElement(R,{onClose:function(){return P(!1)},severity:"error"},"Something went wrong, try again")))};return r.a.createElement(a.Fragment,null,r.a.createElement(f.a,{position:"static"},r.a.createElement(g.a,null,r.a.createElement(j.a,{variant:"h6",className:e.title},"Job Posting Board"),r.a.createElement(m.a,{color:"inherit",onClick:function(){return o(!0)}},"Post New Job"))),r.a.createElement(b.a,{container:!0,direction:"column",justify:"space-between",alignItems:"center"},E.map((function(e){return r.a.createElement(I,{id:e.id,title:e.title,description:e.description,categories:e.categories,contact:e.contact,applicants:e.applicants,handleApplySubmit:D})}))),r.a.createElement(G,null),r.a.createElement(H,null))};var V=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(U,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(V,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[71,1,2]]]);
//# sourceMappingURL=main.c6261251.chunk.js.map